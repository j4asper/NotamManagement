@page "/"
@attribute [Authorize]
@using Microsoft.AspNetCore.Authorization


<PageTitle>Home</PageTitle>

<MudStack Row="true">
    <NotamListViewComponent Notams="Notams" />

    <NotamActionListViewComponent NotamActions="NotamActions" />
</MudStack>

@code
{
    [Inject] public INotamService NotamService { get; set; } = null!;
    [Inject] public HttpClient HttpClient { get; set; } = null!;
    [Inject] public INotamActionService notamActionService { get; set; } = null!;
    
    private List<Notam> Notams = [];
    private List<NotamAction> NotamActions = [];

    protected override async Task OnInitializedAsync()
    {
       
        var notamActions = await notamActionService.GetAllNotamActionsAsync();
        var notams = await NotamService.GetAllNotamsAsync();
        NotamActions = notamActions.ToList();
        Notams = notams.ToList();
        
        
    }
}
